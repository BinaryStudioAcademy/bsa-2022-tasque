<div class="container mini-view">
  <div class="users" *ngIf="avatars.length <= 4 && !miniView">
    <a class="user-avatar" *ngFor="let item of avatars.slice(0, 7); let i = index" [attr.data-index]="i">
      <img *ngIf="item.avatarURL.length != 0" class="user-avatar-img" [src]="item.avatarURL" [alt]="item.username" />
      <div *ngIf="item.avatarURL.length == 0" class="user-avatar-img" style="background-color: {{ profileColors[i] }}">
        <span>{{ item.username[0] }}</span>
      </div>
    </a>
  </div>
  <div class="users" *ngIf="avatars.length > 4 && !miniView">
    <a class="user-avatar" *ngFor="let item of avatars.slice(0, 7); let i = index" [attr.data-index]="i" style="left: {{ i * -18 }}px;">
      <tasque-avatar class="user-avatar-img" [imageURL]="item.avatarURL" [alt]="item.username" [diameter_px]="50"></tasque-avatar>
      <div class="user-overflow" *ngIf="i == 6" (click)="showPopUp = !showPopUp">+{{ avatars.length - 7 }}</div>
    </a>
  </div>
  <div class="users" *ngIf="miniView">
    <a class="user-avatar">
      <tasque-avatar class="user-avatar-img" [imageURL]="avatars[0].avatarURL" [alt]="avatars[0].username" [diameter_px]="50"></tasque-avatar>
      <div class="user-overflow" (click)="showPopUp = !showPopUp">+{{ avatars.length - 1 }}</div>
    </a>
  </div>
</div>

<div [hidden]="!showPopUp" class="pop-up mini-view">
  <div class="user-list-container">
    <div class="container-title">
      <span>Members</span>
      <a class="pop-up-close" (click)="showPopUp = !showPopUp">
        <img src="assets/close_icon.svg" />
      </a>
    </div>
    <mat-divider class="divider"></mat-divider>
    <div class="search-container">
      <tasque-input type="search" class="search-input" [icon]="searchIcon" iconPosition="search" placeholder="Search members" [(ngModel)]="inputSearch" (ngModelChange)="filterItems()"> </tasque-input>
    </div>
    <div class="members-container">
      <span>Members:</span>
      <div class="avatars-container">
        <a class="user-avatar" *ngFor="let item of avatarsShow; let i = index" [attr.data-index]="i">
          <tasque-avatar class="user-avatar-img" [imageURL]="item.avatarURL" [alt]="item.username" [diameter_px]="50"></tasque-avatar>
        </a>
      </div>
    </div>
  </div>
</div>
