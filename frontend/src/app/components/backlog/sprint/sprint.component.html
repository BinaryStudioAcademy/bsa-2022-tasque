<div
  class="sprint-conteiner"
  cdkDropList
  id="{{ sprint.id }}"
  #doneList="cdkDropList"
  [cdkDropListData]="sprint.tasks"
  (cdkDropListDropped)="drop($event)"
>
  <details>
    <summary>
      <div class="wrapper">
        <div class="marker">
          <p class="open">
            <fa-icon
              [icon]="faChevronRight"
              class="rotatable"
              id="dropdown-arrow-icon"
            ></fa-icon>
          </p>
          <p class="close">
            <fa-icon
              [icon]="faAngleDown"
              class="rotatable"
              id="dropdown-arrow-icon"
            ></fa-icon>
          </p>
        </div>
        <h4 class="sprint-name">{{ sprint.name }}</h4>
        <div class="sprint-date">
          <p class="startAt">{{ sprint.startAt | date: 'mediumDate' }}</p>
          <p>-</p>
          <p class="endAt">{{ sprint.endAt | date: 'mediumDate' }}</p>
        </div>
        <div class="issues">
          <p>issues</p>
          <p class="issues-count">
            {{ tasks && tasks.length ? tasks.length : 0 }}
          </p>
        </div>
        <div class="estimate">
          <p>estimate</p>
          <p class="estimate-count">{{ estimate }}</p>
        </div>
        <div class="wrapper button">
          <tasque-button
            text="Start sprint"
            class="btn mini voilet"
          ></tasque-button>
          <div class="dropdown-button">
            <div class="dropdown" style="float: right">
              <tasque-button
                class="btn dropbtn"
                [icon]="faEllipsisV"
              ></tasque-button>
              <div class="dropdown-content">
                <a (click)="dropSprintClick(sprint)">Move sprint up</a>
                <a (click)="dropSprintClick(sprint)">Move sprint down</a>
                <a>Edit sprint </a>
                <a>Delete sprint </a>
                <tasque-task-creation></tasque-task-creation>
              </div>
            </div>
          </div>
        </div>
      </div>
    </summary>
    <div class="sprint-header">
      <div class="select-user">
        <tasque-team-select
          (selectedUser)="filterUserTasks($event)"
          *ngIf="sprintUsersCircle"
          [avatars]="sprintUsersCircle"
        ></tasque-team-select>
      </div>
    </div>
    <div class="sprint-body">
      <app-issue
        *ngFor="let task of tasks"
        [issue]="task"
        [taskStates]="taskState"
        [taskTypes]="taskType"
        [currentUser]="currentUser"
        (estimate)="estimateCount()"
      ></app-issue>
    </div>
    <div class="sprint-footer">
      <tasque-task-creation
        btnText="+ Create issues"
        btnClass="btn mini voilet"
        [sidebarName]="createIssueSidebarName"
      ></tasque-task-creation>
    </div>
  </details>
</div>
